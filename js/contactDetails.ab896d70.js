(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["contactDetails"],{"0459":function(t,e,n){},"1d3f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"details"},[n("modal",{directives:[{name:"show",rawName:"v-show",value:t.addProperty,expression:"addProperty"}],nativeOn:{click:function(e){return e.target!==e.currentTarget?null:t.addPropertyStatus(e)}}},[t.addProperty?n("add-new-property",{attrs:{closeModal:t.addPropertyStatus,submitAdding:t.submitAdding}}):t._e()],1),n("vue-confirm-dialog"),t.contact?t._e():n("div",[n("h1",[t._v(" User not found! ")])]),n("div",{staticClass:"detailsList"},[!t.editing&&t.contact?n("div",[n("h2",{staticClass:"detailsList__name"},[t._v(t._s(t.contact.name))]),t._l(t.contact,(function(e,a){return["id"!==a&&"name"!==a?n("div",{key:a,staticClass:"detailsList__item"},[n("div",{staticClass:"detailsList__keys"},[n("h3",{staticClass:"detailsList__keys-key"},[t._v(t._s(a))]),n("p",{staticClass:"detailsList__keys-value"},[t._v(t._s(e))])]),n("button",{staticClass:"detailsList__delProp",on:{click:function(e){return t.removeProperty(a)}}})]):t._e()]})),t.editing?t._e():n("div",{staticClass:"detailsList__btn"},[n("button",{staticClass:"detailsList__addProp",on:{click:t.addPropertyStatus}}),n("button",{staticClass:"detailsList__editBtn",on:{click:t.editContactInfo}}),n("button",{staticClass:"detailsList__delContact",on:{click:function(e){return e.preventDefault(),t.askDelete(t.contact)}}},[t._v(" Delete contact ")]),this.$store.state.history.length&&!t.editing?n("button",{staticClass:"detailsList__undoBtn",on:{click:t.undo}}):t._e()])],2):t._e()]),t.editing?n("edit-contact",{attrs:{contact:t.contact,editContactInfo:t.editContactInfo}}):t._e()],1)},o=[],i=(n("b0c0"),n("5530")),s=n("2b0e"),c=n("2f62"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"edit",on:{submit:function(e){return e.preventDefault(),t.updateUser(e)}}},[n("h1",[t._v("Editing contact")]),t._l(t.oldContact,(function(e,a){return n("label",{key:a,staticClass:"edit__label"},[n("span",{staticClass:"edit__key"},[t._v(" "+t._s("id"!==a?a:null)+" ")]),"id"!==a?n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldContact[a],expression:"oldContact[key]"}],staticClass:"edit__item",attrs:{placeholder:a,maxlength:"35"},domProps:{value:t.oldContact[a]},on:{input:function(e){e.target.composing||t.$set(t.oldContact,a,e.target.value)}}}):t._e()])})),n("div",{staticClass:"edit__holder-btn"},[n("button",{staticClass:"edit__btn edit__btn-yes",attrs:{type:"button"},on:{click:t.cancelEditing}},[t._v(" Cancel ")]),n("button",{staticClass:"edit__btn edit__btn-no",attrs:{type:"submit",disabled:JSON.stringify(this.contact)===JSON.stringify(this.oldContact)}},[t._v(" Submit ")])])],2)},d=[],l={name:"EditContact",props:{contact:Object,editContactInfo:Function},data:function(){return{oldContact:Object(i["a"])({},this.contact)}},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["c"])({saveHistory:"saveHistory"})),Object(c["b"])({updateContact:"updateContact"})),{},{cancelEditing:function(){var t=this;s["default"].$confirm({message:"Are you sure to cancel editing the contact?",button:{yes:"Yes",no:"Discard"},callback:function(e){e&&t.editContactInfo()}})},updateUser:function(){JSON.stringify(this.contact)!==JSON.stringify(this.oldContact)&&this.saveHistory(Object(i["a"])({},this.contact)),this.updateContact(this.oldContact),this.editContactInfo()}})},u=l,p=(n("ce56"),n("2877")),f=Object(p["a"])(u,r,d,!1,null,"1d33484a",null),m=f.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"newProp",on:{submit:t.sendData}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newProperty.key,expression:"newProperty.key",modifiers:{trim:!0}}],staticClass:"newProp__input",attrs:{type:"text",placeholder:"What do you wanna add?",maxlength:"20"},domProps:{value:t.newProperty.key},on:{input:function(e){e.target.composing||t.$set(t.newProperty,"key",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newProperty.value,expression:"newProperty.value",modifiers:{trim:!0}}],staticClass:"newProp__input",attrs:{type:"text",placeholder:"Enter value",maxlength:"35"},domProps:{value:t.newProperty.value},on:{input:function(e){e.target.composing||t.$set(t.newProperty,"value",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("button",{staticClass:"newProp__addBtn"},[t._v(" Add ")])])},v=[],y={name:"AddNewProperty",props:{closeModal:Function,submitAdding:Function},data:function(){return{newProperty:{key:"",value:""}}},methods:{sendData:function(){var t=this.newProperty,e=t.key,n=t.value;e.length&&n.length&&(this.submitAdding(e,n),this.closeModal())}}},b=y,h=(n("c552"),Object(p["a"])(b,_,v,!1,null,"78275cec",null)),C=h.exports,g=n("714b"),P=n("4360"),k={name:"ContactDetails",title:function(){return this.contact?"".concat(this.contact.name,"'s number"):"No contact"},components:{Modal:g["a"],AddNewProperty:C,EditContact:m},data:function(){return{editing:!1,addProperty:!1,editedValues:{}}},computed:{contactId:function(){return this.$route.params.id},contact:function(){return P["a"].state.allContacts.length?P["a"].getters.getContact(+this.contactId):null}},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["b"])({updateContact:"updateContact",takeHistory:"takeHistory"})),Object(c["c"])({saveHistory:"saveHistory",deleteKey:"deleteKey",removeContact:"removeContact"})),{},{undo:function(){this.takeHistory()},askDelete:function(t){var e=this;s["default"].$confirm({title:"Are you sure?",message:"Are you sure to delete the contact?",button:{yes:"Yes",no:"Cancel"},callback:function(n){n&&(e.removeContact(t),e.$router.push({path:"/"}))}})},removeProperty:function(t){var e=this;s["default"].$confirm({title:"Are you sure?",message:"Are you sure to delete the ".concat(t,"?"),button:{yes:"Yes",no:"Cancel"},callback:function(n){n&&(e.saveHistory(Object(i["a"])({},e.contact)),e.$delete(e.contact,t),e.updateContact(e.contact))}})},submitAdding:function(t,e){this.saveHistory(Object(i["a"])({},this.contact)),this.$set(this.contact,t,e),this.updateContact(Object(i["a"])({},this.contact))},editContactInfo:function(){this.editing=!this.editing},addPropertyStatus:function(){this.addProperty=!this.addProperty}})},w=k,O=(n("f2f0"),Object(p["a"])(w,a,o,!1,null,null,null));e["default"]=O.exports},"645f":function(t,e,n){},c552:function(t,e,n){"use strict";var a=n("0459"),o=n.n(a);o.a},ce56:function(t,e,n){"use strict";var a=n("df8f"),o=n.n(a);o.a},df8f:function(t,e,n){},f2f0:function(t,e,n){"use strict";var a=n("645f"),o=n.n(a);o.a}}]);
//# sourceMappingURL=contactDetails.ab896d70.js.map